import{u as q,a as E,_ as F,b as L}from"./chunk-DiwNm-ZK.js";import{O as B,c as f,o as _,a as c,P as m,s as y,V as I,d as M,Q as N,r as V,R as O,m as S,k as s,b as e,S as U,w as d,x as l,y as u,M as j,U as P}from"./chunk-WaRpenU8.js";import{V as Q}from"./chunk-DjJS8nOO.js";import{V as G}from"./chunk-CjBXcJ57.js";/* empty css              */import"./chunk-D0J18Uty.js";import"./chunk-kXwQuj-U.js";import"./chunk-Db8R8jrI.js";/* empty css              */import"./chunk-CLfTKXP-.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-raQNm161.js";import"./chunk-DucCsfaH.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-23AHP9H5.js";/* empty css              */import"./chunk-CGIe-Bk9.js";/* empty css              *//* empty css              */const J={},K={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function W(t,r){return _(),f("svg",K,r[0]||(r[0]=[c("path",{fill:"currentColor",d:"M896 768H128c-35.2 0-64-28.8-64-64V320c0-35.2 28.8-64 64-64h768c35.2 0 64 28.8 64 64v384c0 35.2-28.8 64-64 64zM224 384c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zM224 480c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zM224 576c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm512 0H288c-17.6 0-32 14.4-32 32s14.4 32 32 32h448c17.6 0 32-14.4 32-32s-14.4-32-32-32z"},null,-1)]))}const X=B(J,[["render",W]]),Y=function(t){return m(y,t,()=>m(X))},Z=function(t){return m(I,{icon:Y,shape:"square",size:"small",...t})},tt={name:"VkVoiceIcon"},et={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function ot(t,r,h,z,p,$){return _(),f("svg",et,r[0]||(r[0]=[c("path",{fill:"currentColor",d:"M512 640c88 0 160-72 160-160V256c0-88-72-160-160-160s-160 72-160 160v224c0 88 72 160 160 160zm280-156.8h-48c-4.4 0-8 3.6-8 8v8.8c0 108.8-86.4 199.2-195.2 203.2H512c-112 0-203.2-91.2-203.2-203.2v-8.8c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v8.8c0 131.2 98.4 239.2 225.6 254.4v115.2H360c-17.6 0-32 14.4-32 32s14.4 32 32 32h304c17.6 0 32-14.4 32-32s-14.4-32-32-32H552V744.8c127.2-15.2 225.6-123.2 225.6-254.4v-8.8c0-4.8-3.6-8.4-8-8.4z"},null,-1)]))}const st=B(tt,[["render",ot]]),rt=function(t){return m(y,t,()=>m(st))},nt=function(t){return m(I,{icon:rt,shape:"square",size:"small",...t})};var n=(t=>(t.Voice="voice",t.Text="text",t))(n||{});const it={data:{type:Object},speechToText:{type:Function},textToSpeech:{type:Function}},at={setData:t=>t},ct={class:"vk-chat-independent"},mt={class:"vk-chat-independent-main__bubbles"},pt={class:"vk-chat-independent-footer"},lt={class:"vk-chat-independent-background"},v=M({name:"VkChatIndependent",__name:"index",props:it,emits:at,setup(t,{emit:r}){const h=t,z=r,[p,$]=N({},h,z),w=V(),i=V(n.Text),b=V(""),T=O(),R=T.resolve,{simplicity:H}=q(),{items:x,onRequest:A}=H,D=S(()=>{const o=x.value.at(-1)?.key;return o&&p.value[o]?p.value[o]:{}}),C=S(()=>D.value.error===!0?!1:x.value.at(-1)?.loading===!0||D.value.completed===!1);function g(o){o&&(A(o),P(()=>{b.value=""}),setTimeout(()=>{T.value?.scrollToBottom()},400))}return(o,a)=>(_(),f("div",ct,[c("div",{ref_key:"mainRef",ref:w,class:"vk-chat-independent-main"},[s(e(U),{"with-flex":"one",class:"vk-chat-independent-main__duplex"},{one:d(()=>[s(e(E),{data:e(p),onSetData:e($)},{default:d(()=>[c("div",mt,[s(e(F),{"el-ref":e(R),items:e(x),"text-to-speech":o.textToSpeech},null,8,["el-ref","items","text-to-speech"])])]),_:1},8,["data","onSetData"])]),two:d(()=>[c("div",pt,[l(s(e(Z),{size:40,onClick:a[0]||(a[0]=k=>i.value=e(n).Text)},null,512),[[u,i.value===e(n).Voice]]),l(s(e(nt),{size:40,onClick:a[1]||(a[1]=k=>i.value=e(n).Voice)},null,512),[[u,i.value===e(n).Text]]),l(s(e(Q),{"append-to":w.value,disabled:C.value,"speech-to-text":o.speechToText,"submit-to-text":!0,onSubmitText:g},null,8,["append-to","disabled","speech-to-text"]),[[u,i.value===e(n).Voice]]),l(s(e(G),{modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=k=>b.value=k),"auto-size":!0,placeholder:"请输入内容",disabled:C.value,onSubmit:g},null,8,["modelValue","disabled"]),[[u,i.value===e(n).Text]])])]),_:1})],512),c("div",lt,[j(o.$slots,"background")])]))}});v.install=t=>{t.component(v.name||"VkChatIndependent",v)};const ut={"h-500px":"","w-350px":""},we=M({__name:"basic",setup(t){return(r,h)=>(_(),f("div",ut,[s(e(L),null,{default:d(()=>[s(e(v))]),_:1})]))}});export{we as default};

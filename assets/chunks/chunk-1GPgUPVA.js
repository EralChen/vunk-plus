import{R as v,d as g,S as w,U as E,m as k,K as S,V as c,o as d,n as P,w as n,L as s,c as T,F as M,B as f,W as $,C as p,p as B,D,h as W}from"./chunk-D2NH_4EQ.js";const L={data:{type:Array,default:()=>[]},popperClass:{type:String,default:"vk-routes-menu-content-popper"},basePath:{type:String,default:""}},N={};function R(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function V(e,r){return e=R(e),r=R(r),e.startsWith("/")?e:`${r}${e?"/":""}${e}`}const I={data:{type:Object,default:()=>({})},popperClass:{type:String,default:""},basePath:{type:String,default:""}},O=v(I),j=g({components:{ElSubMenu:w,ElMenuItem:E},props:I,setup(e){const r=k(()=>{let o=!1;return e.data.children&&(o=e.data.children.some(l=>l.meta?.display!=0&&l.meta?.hidden!==!0)),o}),h=k(()=>{const o=e.data.meta;return o?.subMenuIndex?o.subMenuIndex:V(e.data.path,e.basePath)});return{resolveFullPath:V,hasChildren:r,subMenuIndex:h}}});function z(e,r,h,o,l,b){const u=c("ElSubMenu"),a=c("ElMenuItem");return e.hasChildren?(d(),P(u,{key:0,index:e.subMenuIndex,"popper-class":e.popperClass},{title:n(()=>[s(e.$slots,"menuTitle",{data:e.data,href:e.resolveFullPath(e.data.path,e.basePath),basePath:e.basePath})]),default:n(()=>[s(e.$slots,"default")]),_:3},8,["index","popper-class"])):(d(),P(a,{key:1,index:e.resolveFullPath(e.data.path,e.basePath)},{title:n(()=>[s(e.$slots,"itemTitle",{data:e.data,href:e.resolveFullPath(e.data.path,e.basePath),basePath:e.basePath})]),default:n(()=>[s(e.$slots,"item",{data:e.data,href:e.resolveFullPath(e.data.path,e.basePath),basePath:e.basePath})]),_:3},8,["index"]))}const A=S(j,[["render",z]]),K={...I},F=Symbol("skipRender"),U=g({components:{CoreVue:A},props:K,setup(e){const r=O(e),h=k(()=>o(e.data));function o(l,b={}){const u=l.children,a=b.paths||[l.path];if(!l.meta?.alwaysShow&&u){const i=u.filter(t=>t.meta?.display!=0&&t.meta?.hidden!==!0);if(i.length===1){const t=i[0];return a.push(t.path),t[F]=!0,t.children?.length&&t.children.filter(m=>m.meta?.display!=0&&m.meta?.hidden!==!0).length?o(t,{paths:a}):{...t,meta:{...l.meta??{},...t.meta??{}},_paths:a,path:a.reduce((y,m)=>!y||m.startsWith("/")?m:y+"/"+m,"")}}}}return{skipRender:F,onlyData:h,bindProps:r}}});function q(e,r,h,o,l,b){const u=c("CoreVue");return e.data.meta?.display!=0&&e.data.meta?.hidden!==!0?(d(),T(M,{key:0},[e.data[e.skipRender]?s(e.$slots,"default",{key:1}):(d(),T(M,{key:0},[e.onlyData?(d(),P(u,p({key:0},e.bindProps,{data:e.onlyData}),{item:n(a=>[s(e.$slots,"item",f($(a)))]),menuTitle:n(a=>[s(e.$slots,"menuTitle",f($(a)))]),itemTitle:n(a=>[s(e.$slots,"itemTitle",f($(a)))]),default:n(()=>[s(e.$slots,"default")]),_:3},16,["data"])):(d(),P(u,f(p({key:1},e.bindProps)),{item:n(a=>[s(e.$slots,"item",f($(a)))]),menuTitle:n(a=>[s(e.$slots,"menuTitle",f($(a)))]),itemTitle:n(a=>[s(e.$slots,"itemTitle",f($(a)))]),default:n(()=>[s(e.$slots,"default")]),_:3},16))],64))],64)):B("",!0)}const G=S(U,[["render",q]]),H=g({name:"VkRoutesMenuContent",components:{ItemVue:G},props:L,emits:N,setup(){return{resolveFullPath:V}}});function J(e,r,h,o,l,b){const u=c("VkRoutesMenuContent"),a=c("ItemVue");return d(!0),T(M,null,D(e.data,i=>(d(),P(a,{key:i.name||i.path,data:i,"popper-class":e.popperClass,"base-path":e.basePath},{item:n(t=>[s(e.$slots,"item",p({ref_for:!0},t))]),menuTitle:n(t=>[s(e.$slots,"menuTitle",p({ref_for:!0},t))]),itemTitle:n(t=>[s(e.$slots,"itemTitle",p({ref_for:!0},t))]),default:n(()=>[W(u,{data:i.children,"popper-class":e.popperClass,"base-path":e.resolveFullPath(i.path,e.basePath)},{item:n(t=>[s(e.$slots,"item",p({ref_for:!0},t))]),menuTitle:n(t=>[s(e.$slots,"menuTitle",p({ref_for:!0},t))]),itemTitle:n(t=>[s(e.$slots,"itemTitle",p({ref_for:!0},t))]),_:2},1032,["data","popper-class","base-path"])]),_:2},1032,["data","popper-class","base-path"]))),128)}const C=S(H,[["render",J]]);C.install=e=>{e.component(C.name||"VkRoutesMenuContent",C)};export{C as V};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-0KIvQthc.js","assets/chunks/chunk-CCSnWOzo.js","assets/chunks/chunk-Cl7Gad5t.js","assets/chunks/chunk-Db8R8jrI.js","assets/static/onCreateApp.DdGbM3vl.css","assets/static/src_layouts_default_aside-6ea01de8.BjbON5Ij.css","assets/static/src_layouts_default_navbar-403af73f.u3IytZI2.css","assets/static/pages_uno-88a4f3d7.DXhbHvT1.css","assets/static/src_styles_common_reset-f7a68b0e.BAKp5MHC.css","assets/static/src_styles_common_color-a7a524c7.CVau4Kly.css","assets/static/src_styles_common_is-19c6c24d.DKAKruk7.css","assets/static/style-6912e642.BV4wSeDz.css","assets/static/style-828a286c.Beul3IQx.css","assets/static/src_styles_element-plus_reset-752cc03d.htEpr2M-.css","assets/static/src_styles_element-plus_form-item-877afd6a.Dy4HJB2K.css","assets/static/src_styles_element-plus_table-6cbc5816.DXG1SsxY.css","assets/static/src_styles_element-plus_tabs-67d1a98b.BMDMQPDv.css","assets/static/src_styles_element-plus_tree-cc28503d.nmT5n0wM.css","assets/static/src_styles_element-plus_dialog-7f91a00e.D4nTsJge.css","assets/static/src_styles_element-plus_breadcrumb-8ce3a1a1.CwEEGJYc.css","assets/static/src_styles_element-plus_menu-33b44202.hFAFO4eV.css","assets/static/style-5918c0d5.DKHZNGtr.css","assets/static/style-e2956485.BBK-T9RK.css","assets/static/style-3ec25e25.Cc2PI5FU.css","assets/static/src_styles_form_sub-7371c85e.y3zh-mS3.css","assets/static/src_styles_layout_index-2891f17b.BNCqvENj.css","assets/static/style-3bd3911a.CRScSR0a.css","assets/static/style-6204a234.BZwgKm1s.css","assets/static/style-55703ee6.CFNWXuiE.css","assets/static/style-512eb9e9.X9gIGpBH.css","assets/static/style-744b2847.Di2LGzYR.css","assets/static/style-f00a3d20.C8H6Fcyw.css","assets/static/src_styles_markdown_reset-fbd16bdd.D3vNaEcf.css","assets/static/src_styles_markdown_shiki-0d2326df.uut6VZYd.css","assets/chunks/chunk-DucCsfaH.js","assets/static/style-5a7c85f9.SG6e0Eez.css"])))=>i.map(i=>d[i]);
import{u as O,a as j,_ as U,b as W}from"./chunk-B3UckQ2c.js";import{_ as Y}from"./chunk-Db8R8jrI.js";import{ap as A,A as d,B as v,C as m,D as p,am as R,a7 as I,d as E,aY as Z,r as $,aW as G,c as z,aZ as J,b as r,h as t,a_ as K,_ as c,ah as Q,g as f,F as X,v as h,a5 as ee,au as T,aF as te,a$ as oe,L as S}from"./chunk-Cl7Gad5t.js";import{V as se}from"./chunk-DU4Zvtyq.js";/* empty css              */import"./chunk-CL9Aai7-.js";import"./chunk-CbOvwASs.js";/* empty css              */import"./chunk-CntOc3u2.js";import"./chunk-DucCsfaH.js";import"./chunk-CBGazUga.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-DC1G8iEw.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-YsqiG2IT.js";/* empty css              *//* empty css              */const re={},ne={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function ae(e,n){return v(),d("svg",ne,n[0]||(n[0]=[m("path",{fill:"currentColor",d:"M896 768H128c-35.2 0-64-28.8-64-64V320c0-35.2 28.8-64 64-64h768c35.2 0 64 28.8 64 64v384c0 35.2-28.8 64-64 64zM224 384c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zM224 480c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zM224 576c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm512 0H288c-17.6 0-32 14.4-32 32s14.4 32 32 32h448c17.6 0 32-14.4 32-32s-14.4-32-32-32z"},null,-1)]))}const ie=A(re,[["render",ae]]),ce=function(e){return p(R,e,()=>p(ie))},me=function(e){return p(I,{icon:ce,shape:"square",size:"small",...e})},pe={name:"VkVoiceIcon"},le={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function ue(e,n,k,g,w,l){return v(),d("svg",le,n[0]||(n[0]=[m("path",{fill:"currentColor",d:"M512 640c88 0 160-72 160-160V256c0-88-72-160-160-160s-160 72-160 160v224c0 88 72 160 160 160zm280-156.8h-48c-4.4 0-8 3.6-8 8v8.8c0 108.8-86.4 199.2-195.2 203.2H512c-112 0-203.2-91.2-203.2-203.2v-8.8c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v8.8c0 131.2 98.4 239.2 225.6 254.4v115.2H360c-17.6 0-32 14.4-32 32s14.4 32 32 32h304c17.6 0 32-14.4 32-32s-14.4-32-32-32H552V744.8c127.2-15.2 225.6-123.2 225.6-254.4v-8.8c0-4.8-3.6-8.4-8-8.4z"},null,-1)]))}const de=A(pe,[["render",ue]]),ve=function(e){return p(R,e,()=>p(de))},_e=function(e){return p(I,{icon:ve,shape:"square",size:"small",...e})};var a=(e=>(e.Voice="voice",e.Text="text",e))(a||{});const be={data:{type:Object},speechToText:{type:Function},textToSpeech:{type:Function}},fe={setData:e=>e},he={class:"vk-chat-independent"},xe={class:"vk-chat-independent-main__bubbles"},ke={class:"vk-chat-independent-footer"},Ve={class:"vk-chat-independent-background"},x=E({name:"VkChatIndependent",__name:"index",props:be,emits:fe,setup(e,{emit:n}){const k=e,g=n,w=ee(()=>Y(()=>import("./chunk-0KIvQthc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]))),[l,F]=Z({},k,g),C=$(),i=$(a.Text),V=$(""),D=G(),H=D.resolve,{simplicity:L}=O(),{items:_,onRequest:M}=L,b=z(()=>q(-1)),N=z(()=>J(b.value)&&b.value.completed!==!0),B=z(()=>b.value.error===!0?!1:_.value.at(-1)?.loading===!0||b.value.completed===!1);function y(o){o&&(M(o),S(()=>{V.value=""}),setTimeout(()=>{D.value?.scrollToBottom()},400))}function P(){const o=_.value.at(-1);if(!o)return;o.abortController?.abort();const s=l.value[o.key];s.elRef?.interrupt(),S(()=>{s.completed=!0})}function q(o){const s=_.value.at(o);return s?.key&&l.value[s.key]?l.value[s.key]:{}}return(o,s)=>(v(),d("div",he,[m("div",{ref_key:"mainRef",ref:C,class:"vk-chat-independent-main"},[r(t(K),{"with-flex":"one",class:"vk-chat-independent-main__duplex"},{one:c(()=>[r(t(j),{data:t(l),onSetData:t(F)},{default:c(()=>[m("div",xe,[r(t(U),{"el-ref":t(H),items:t(_),"text-to-speech":o.textToSpeech},{renderer:c(()=>[T(o.$slots,"bubble_renderer")]),footer:c(u=>[T(o.$slots,"bubble_footer",te(oe(u)))]),_:3},8,["el-ref","items","text-to-speech"])])]),_:3},8,["data","onSetData"])]),two:c(()=>[m("div",ke,[o.speechToText?(v(),d(X,{key:0},[f(r(t(me),{size:40,onClick:s[0]||(s[0]=u=>i.value=t(a).Text)},null,512),[[h,i.value===t(a).Voice]]),f(r(t(w),{"append-to":C.value,disabled:B.value,"speech-to-text":o.speechToText,"submit-to-text":!0,onSubmitText:y},null,8,["append-to","disabled","speech-to-text"]),[[h,i.value===t(a).Voice]]),f(r(t(_e),{size:40,onClick:s[1]||(s[1]=u=>i.value=t(a).Voice)},null,512),[[h,i.value===t(a).Text]])],64)):Q("",!0),f(r(t(se),{modelValue:V.value,"onUpdate:modelValue":s[2]||(s[2]=u=>V.value=u),"auto-size":!0,placeholder:"请输入内容","send-disabled":B.value,loading:N.value,onSubmit:y,onCancel:P},null,8,["modelValue","send-disabled","loading"]),[[h,i.value===t(a).Text]])])]),_:3})],512),m("div",Ve,[T(o.$slots,"background")])]))}});x.install=e=>{e.component(x.name||"VkChatIndependent",x)};const $e={"h-500px":"","w-350px":""},St=E({__name:"basic",setup(e){return(n,k)=>(v(),d("div",$e,[r(t(W),null,{default:c(()=>[r(t(x))]),_:1})]))}});export{St as default};

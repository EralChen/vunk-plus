const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-COb-t7jD.js","assets/chunks/chunk-DB4JpxmU.js","assets/chunks/chunk-BgbOFq1D.js","assets/chunks/chunk-Db8R8jrI.js","assets/static/onCreateApp.1UIJUIFG.css","assets/static/src_layouts_default_aside-6ea01de8.BjbON5Ij.css","assets/static/src_layouts_default_navbar-403af73f.u3IytZI2.css","assets/static/vitepress_components_VPDocOutlineItem-0942cada.tkRPm3MX.css","assets/static/vitepress_components_VPDocAsideOutline-b0d47973.Ds9uynvM.css","assets/static/uno-ff4db1d1.D-rHwgX7.css","assets/static/src_styles_common_reset-f7a68b0e.BAKp5MHC.css","assets/static/src_styles_common_color-a7a524c7.CVau4Kly.css","assets/static/src_styles_common_is-19c6c24d.DKAKruk7.css","assets/static/style-bdcd55a0.C1vtest-.css","assets/static/style-a5818a8a.COZrvgTQ.css","assets/static/src_styles_element-plus_reset-752cc03d.htEpr2M-.css","assets/static/src_styles_element-plus_form-item-877afd6a.Dy4HJB2K.css","assets/static/src_styles_element-plus_table-6cbc5816.DXG1SsxY.css","assets/static/src_styles_element-plus_tabs-67d1a98b.BMDMQPDv.css","assets/static/src_styles_element-plus_tree-cc28503d.nmT5n0wM.css","assets/static/src_styles_element-plus_dialog-7f91a00e.D4nTsJge.css","assets/static/src_styles_element-plus_breadcrumb-8ce3a1a1.CwEEGJYc.css","assets/static/src_styles_element-plus_menu-33b44202.hFAFO4eV.css","assets/static/style-66a38b5b.DDhCRjCR.css","assets/static/style-e2956485.BBK-T9RK.css","assets/static/style-3ec25e25.Cc2PI5FU.css","assets/static/src_styles_form_sub-7371c85e.y3zh-mS3.css","assets/static/src_styles_layout_index-2891f17b.BNCqvENj.css","assets/static/style-3c18c72e.DemXzznU.css","assets/static/style-4c7198a7.XK_qS79O.css","assets/static/style-6e36e064.CFNWXuiE.css","assets/static/style-3660edc3.X9gIGpBH.css","assets/static/style-ea32517e.Di2LGzYR.css","assets/static/style-4ecb87b0.D8Tq8vg6.css","assets/static/src_styles_markdown_reset-fbd16bdd.D3vNaEcf.css","assets/static/src_styles_markdown_shiki-0d2326df.uut6VZYd.css","assets/chunks/chunk-Di9FnFMJ.js","assets/static/style-5a7c85f9.SG6e0Eez.css"])))=>i.map(i=>d[i]);
import{u as O,_ as j,d as G}from"./chunk-DVQB-bP1.js";import{_ as K}from"./chunk-Db8R8jrI.js";import{K as R,a as d,o as v,e as u,T as m,H as S,V as A,d as H,aC as U,p as $,aD as Y,c as b,aE as Z,b as n,u as t,aF as J,w as l,B as Q,Y as h,F as W,Z as x,i as X,a8 as T,a2 as ee,aG as te,z as oe,aH as se}from"./chunk-BgbOFq1D.js";import{c as ne}from"./chunk-Bz36p6wa.js";import{_ as ae}from"./chunk-DmK1XWnB.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-Bfa4Yick.js";/* empty css              */const re={},ie={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function ce(e,a){return v(),d("svg",ie,a[0]||(a[0]=[u("path",{fill:"currentColor",d:"M896 768H128c-35.2 0-64-28.8-64-64V320c0-35.2 28.8-64 64-64h768c35.2 0 64 28.8 64 64v384c0 35.2-28.8 64-64 64zM224 384c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zM224 480c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zM224 576c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm512 0H288c-17.6 0-32 14.4-32 32s14.4 32 32 32h448c17.6 0 32-14.4 32-32s-14.4-32-32-32z"},null,-1)]))}const le=R(re,[["render",ce]]),ue=function(e){return m(S,e,()=>m(le))},me=function(e){return m(A,{icon:ue,shape:"square",size:"small",...e})},pe={name:"VkVoiceIcon"},de={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function ve(e,a,V,g,w,i){return v(),d("svg",de,a[0]||(a[0]=[u("path",{fill:"currentColor",d:"M512 640c88 0 160-72 160-160V256c0-88-72-160-160-160s-160 72-160 160v224c0 88 72 160 160 160zm280-156.8h-48c-4.4 0-8 3.6-8 8v8.8c0 108.8-86.4 199.2-195.2 203.2H512c-112 0-203.2-91.2-203.2-203.2v-8.8c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v8.8c0 131.2 98.4 239.2 225.6 254.4v115.2H360c-17.6 0-32 14.4-32 32s14.4 32 32 32h304c17.6 0 32-14.4 32-32s-14.4-32-32-32H552V744.8c127.2-15.2 225.6-123.2 225.6-254.4v-8.8c0-4.8-3.6-8.4-8-8.4z"},null,-1)]))}const fe=R(pe,[["render",ve]]),_e=function(e){return m(S,e,()=>m(fe))},be=function(e){return m(A,{icon:_e,shape:"square",size:"small",...e})};var r=(e=>(e.Voice="voice",e.Text="text",e))(r||{});const he={data:{type:Object},speechToText:{type:Function},textToSpeech:{type:Function}},xe={setData:e=>e},ke={class:"vk-chat-independent"},Ve={class:"vk-chat-independent-main__bubbles"},ze={class:"vk-chat-independent-footer"},$e={class:"vk-chat-independent-background"},k=H({name:"VkChatIndependent",__name:"index",props:he,emits:xe,setup(e,{emit:a}){const V=e,g=a,w=X(()=>K(()=>import("./chunk-COb-t7jD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37]))),[i,E]=U({},V,g),C=$(),c=$(r.Text),z=$(""),D=Y(),F=D.resolve,{simplicity:M}=O(),{items:f,onRequest:L}=M,B=b(()=>f.value.at(-1)),_=b(()=>q(-1)),N=b(()=>!!(B.value?.loading===!0||Z(_.value)&&_.value.completed!==!0)),y=b(()=>_.value.error===!0?!1:B.value?.loading===!0||_.value.completed===!1);function I(o){o&&(L(o),oe(()=>{z.value=""}),setTimeout(()=>{D.value?.scrollToBottom()},400))}function P(){const o=f.value.at(-1);o&&(o.abortController?.abort(),se(()=>i.value[o.key],60).then(s=>{s.elRef?.interrupt(),i.value[o.key].completed=!0}))}function q(o){const s=f.value.at(o);return s?.key&&i.value[s.key]?i.value[s.key]:{}}return(o,s)=>(v(),d("div",ke,[u("div",{ref_key:"mainRef",ref:C,class:"vk-chat-independent-main"},[n(t(J),{"with-flex":"one",class:"vk-chat-independent-main__duplex"},{one:l(()=>[n(t(ne),{data:t(i),onSetData:t(E)},{default:l(()=>[u("div",Ve,[n(t(j),{"el-ref":t(F),items:t(f),"text-to-speech":o.textToSpeech},{renderer:l(()=>[T(o.$slots,"bubble_renderer")]),footer:l(p=>[T(o.$slots,"bubble_footer",ee(te(p)))]),_:3},8,["el-ref","items","text-to-speech"])])]),_:3},8,["data","onSetData"])]),two:l(()=>[u("div",ze,[o.speechToText?(v(),d(W,{key:0},[h(n(t(me),{size:40,onClick:s[0]||(s[0]=p=>c.value=t(r).Text)},null,512),[[x,c.value===t(r).Voice]]),h(n(t(w),{"append-to":C.value,disabled:y.value,"speech-to-text":o.speechToText,"submit-to-text":!0,onSubmitText:I},null,8,["append-to","disabled","speech-to-text"]),[[x,c.value===t(r).Voice]]),h(n(t(be),{size:40,onClick:s[1]||(s[1]=p=>c.value=t(r).Voice)},null,512),[[x,c.value===t(r).Text]])],64)):Q("",!0),h(n(t(ae),{modelValue:z.value,"onUpdate:modelValue":s[2]||(s[2]=p=>z.value=p),"auto-size":!0,placeholder:"请输入内容","send-disabled":y.value,loading:N.value,onSubmit:I,onCancel:P},null,8,["modelValue","send-disabled","loading"]),[[x,c.value===t(r).Text]])])]),_:3})],512),u("div",$e,[T(o.$slots,"background")])]))}});k.install=e=>{e.component(k.name||"VkChatIndependent",k)};const Te={"h-500px":"","w-350px":""},ft=H({__name:"basic",setup(e){return(a,V)=>(v(),d("div",Te,[n(t(G),null,{default:l(()=>[n(t(k))]),_:1})]))}});export{ft as default};

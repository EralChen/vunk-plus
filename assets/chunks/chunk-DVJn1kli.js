import{V as _}from"./chunk-DU4Zvtyq.js";import{_ as x}from"./chunk-BkjxHJCH.js";import{d as h,r as s,c as w,a9 as b,A as V,B as S,C as B,b as n,ab as k,_ as m,h as u,I as C,ar as g}from"./chunk-Cl7Gad5t.js";/* empty css              */import"./chunk-DC1G8iEw.js";import"./chunk-YsqiG2IT.js";/* empty css              *//* empty css              */import"./chunk-CCSnWOzo.js";import"./chunk-DucCsfaH.js";/* empty css              *//* empty css              */import"./chunk-Db8R8jrI.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */async function y(l,r){const o=new FormData;o.append("file",r,"audio.wav");const i=await fetch(l,{method:"POST",body:o});if(!i.ok)throw new Error("Speech to text failed");return(await i.json()).text}const E={"sk-flex":"col-between",class:"h-400px"},vt=h({__name:"basic",setup(l){const r=s(""),o=s(!1);async function i(e){o.value=!0,await g(1e4),o.value=!1,r.value=""}const a=s([]),c=w(()=>a.value.filter(e=>e.status==="done").map(e=>e.response?.data[0].id));function d(){o.value=!1}function f(e){y("http://192.168.111.246:20096/speech-to-text",e).then(t=>{r.value+=t})}return(e,t)=>{const v=b("ElButton");return S(),V("div",E,[B("pre",null,"      "+k(c.value)+`
    `,1),n(u(_),{"file-list":a.value,"onUpdate:fileList":t[0]||(t[0]=p=>a.value=p),modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=p=>r.value=p),action:"http://localhost:4545/upload",loading:o.value,onSubmit:i,onCancel:d},{footer:m(()=>[n(v,{round:"",size:"small"},{default:m(()=>t[2]||(t[2]=[C(" 深度思考 ")])),_:1})]),actions_before:m(()=>[n(u(x),{onStop:f})]),_:1},8,["file-list","modelValue","loading"])])}}});export{vt as default};

import{T as u,V as N}from"./chunk-CsnoVium.js";import{d as _,q as y,p as D,y as q,z as I,c as R,A as U,a as H,o as v,e as n,b as a,w as s,f as p,u as e,v as F,g as W,B as P,s as x,t as c,C as z,E as g,x as L}from"./chunk-BgbOFq1D.js";import{V as M}from"./chunk-BpN0CyCU.js";import"./chunk-Db8R8jrI.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const $={class:"pixi-frame-demo"},j={class:"frame-container"},G={class:"control-section"},J={style:{"margin-top":"8px"}},K={class:"form-section"},O={class:"info-section"},qt=_({__name:"basic",setup(Q){function E(o,t=200,l=200){if(typeof document>"u")return"";const m=document.createElement("canvas");m.width=t,m.height=l;const i=m.getContext("2d");return i&&(i.fillStyle=o,i.fillRect(0,0,m.width,m.height),i.fillStyle=k(o),i.font="bold 24px Arial",i.textAlign="center",i.fillText(o,t/2,l/2)),m.toDataURL("image/png")}function k(o){const t=o.replace("#",""),l=Number.parseInt(t.substring(0,2),16),m=Number.parseInt(t.substring(2,4),16),i=Number.parseInt(t.substring(4,6),16);return(l*299+m*587+i*114)/1e3>128?"#000000":"#FFFFFF"}const S={rainbow:["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#4B0082","#9400D3"],redToBlue:["#FF0000","#FF3333","#FF6666","#FF9999","#FFCCCC","#CCCCFF","#9999FF","#6666FF","#3333FF","#0000FF"],grayScale:["#000000","#222222","#444444","#666666","#888888","#AAAAAA","#CCCCCC","#EEEEEE","#FFFFFF","#EEEEEE","#CCCCCC","#AAAAAA","#888888","#666666","#444444","#222222"]},r=y({frameRate:24,loop:!1,selectedSequence:"rainbow",frameWidth:300,frameHeight:200}),f=D(u.pending),d=y([]),C=q(I),T=[{label:"帧率控制",prop:"frameRate",templateType:"VkfSlider",min:1,max:60,showStops:!0},{label:"循环播放",prop:"loop",templateType:"VkfSwitch"},{label:"颜色序列",prop:"selectedSequence",templateType:"VkfSelect",options:[{label:"彩虹色",value:"rainbow"},{label:"红蓝渐变",value:"redToBlue"},{label:"灰度渐变",value:"grayScale"}]},{label:"帧宽度",prop:"frameWidth",templateType:"VkfInputNumber",min:50,max:800},{label:"帧高度",prop:"frameHeight",templateType:"VkfInputNumber",min:50,max:600}];function b(){d.splice(0,d.length);const o=S[r.selectedSequence];o&&setTimeout(()=>{o.forEach(t=>{const l=E(t,r.frameWidth,r.frameHeight);d.push(l)})},10)}function A(){f.value=u.play}function h(){f.value=u.pause}function V(){f.value=u.stop}function w(o){const t=o.k;L(r,o),["selectedSequence","frameWidth","frameHeight"].includes(t)&&b()}const B=R(()=>{switch(f.value){case u.playing:return"播放中";case u.paused:return"已暂停";case u.stopped:return"已停止";default:return"待机中"}});return U(()=>{b()}),(o,t)=>(v(),H("div",$,[t[10]||(t[10]=n("h3",null," 帧动画播放器演示 ",-1)),n("p",null,[t[3]||(t[3]=n("span",null," 该组件播放时会随时释放资源, 如果配置变化, 请重新加载组件 ",-1)),a(e(F),{"ml-m":"",onClick:t[0]||(t[0]=l=>C.value=!0)},{default:s(()=>t[2]||(t[2]=[p(" reload ")])),_:1})]),n("div",j,[e(C)?P("",!0):(v(),W(e(N),{key:0,status:f.value,"onUpdate:status":t[1]||(t[1]=l=>f.value=l),data:d,"frame-rate":r.frameRate,loop:r.loop},null,8,["status","data","frame-rate","loop"]))]),n("div",G,[t[7]||(t[7]=n("h4",null,"播放控制",-1)),a(e(x),null,{default:s(()=>[a(e(F),{type:"success",onClick:A},{default:s(()=>t[4]||(t[4]=[p(" 播放 ")])),_:1}),a(e(F),{type:"warning",onClick:h},{default:s(()=>t[5]||(t[5]=[p(" 暂停 ")])),_:1}),a(e(F),{type:"danger",onClick:V},{default:s(()=>t[6]||(t[6]=[p(" 停止 ")])),_:1})]),_:1}),n("div",J,[a(e(z),null,{default:s(()=>[p("当前状态: "+c(B.value),1)]),_:1})])]),n("div",K,[t[8]||(t[8]=n("h4",null,"配置参数",-1)),a(e(M),{data:r,"form-items":T,"label-width":"120px",onSetData:w},null,8,["data"])]),n("div",O,[t[9]||(t[9]=n("h4",null,"帧数据信息",-1)),a(e(x),{direction:"vertical"},{default:s(()=>[a(e(g),null,{default:s(()=>[p("当前序列: "+c(r.selectedSequence),1)]),_:1}),a(e(g),{type:"info"},{default:s(()=>[p(" 帧数量: "+c(d.length),1)]),_:1}),a(e(g),{type:"success"},{default:s(()=>[p(" 帧率: "+c(r.frameRate)+" FPS ",1)]),_:1}),a(e(g),{type:r.loop?"warning":"info"},{default:s(()=>[p(" 循环播放: "+c(r.loop?"开启":"关闭"),1)]),_:1},8,["type"])]),_:1})])]))}});export{qt as default};

import{V as B}from"./chunk-B_usEO8p.js";import{d as N,H as y,r as D,ad as I,L as q,c as R,o as H,A as U,B as v,C as n,b as o,_ as s,I as p,h as e,ab as F,Z as W,ae as L,aa as k,a8 as c,af as P,a9 as C,ac as M}from"./chunk-C-sTROv_.js";import{V as Z}from"./chunk-VkyV4k3-.js";import{T as u}from"./chunk-CntOc3u2.js";import"./chunk-Db8R8jrI.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const $={class:"pixi-frame-demo"},j={class:"frame-container"},z={class:"control-section"},G={style:{"margin-top":"8px"}},J={class:"form-section"},K={class:"info-section"},Dt=N({__name:"basic",setup(O){function x(a,t=200,l=200){if(typeof document>"u")return"";const m=document.createElement("canvas");m.width=t,m.height=l;const i=m.getContext("2d");return i&&(i.fillStyle=a,i.fillRect(0,0,m.width,m.height),i.fillStyle=E(a),i.font="bold 24px Arial",i.textAlign="center",i.fillText(a,t/2,l/2)),m.toDataURL("image/png")}function E(a){const t=a.replace("#",""),l=Number.parseInt(t.substring(0,2),16),m=Number.parseInt(t.substring(2,4),16),i=Number.parseInt(t.substring(4,6),16);return(l*299+m*587+i*114)/1e3>128?"#000000":"#FFFFFF"}const S={rainbow:["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#4B0082","#9400D3"],redToBlue:["#FF0000","#FF3333","#FF6666","#FF9999","#FFCCCC","#CCCCFF","#9999FF","#6666FF","#3333FF","#0000FF"],grayScale:["#000000","#222222","#444444","#666666","#888888","#AAAAAA","#CCCCCC","#EEEEEE","#FFFFFF","#EEEEEE","#CCCCCC","#AAAAAA","#888888","#666666","#444444","#222222"]},r=y({frameRate:24,loop:!1,selectedSequence:"rainbow",frameWidth:300,frameHeight:200}),f=D(u.pending),d=y([]),g=I(q),T=[{label:"帧率控制",prop:"frameRate",templateType:"VkfSlider",min:1,max:60,showStops:!0},{label:"循环播放",prop:"loop",templateType:"VkfSwitch"},{label:"颜色序列",prop:"selectedSequence",templateType:"VkfSelect",options:[{label:"彩虹色",value:"rainbow"},{label:"红蓝渐变",value:"redToBlue"},{label:"灰度渐变",value:"grayScale"}]},{label:"帧宽度",prop:"frameWidth",templateType:"VkfInputNumber",min:50,max:800},{label:"帧高度",prop:"frameHeight",templateType:"VkfInputNumber",min:50,max:600}];function b(){d.splice(0,d.length);const a=S[r.selectedSequence];a&&setTimeout(()=>{a.forEach(t=>{const l=x(t,r.frameWidth,r.frameHeight);d.push(l)})},10)}function A(){f.value=u.play}function h(){f.value=u.pause}function V(){f.value=u.stop}function w(a){const t=a.k;M(r,a),["selectedSequence","frameWidth","frameHeight"].includes(t)&&b()}const _=R(()=>{switch(f.value){case u.playing:return"播放中";case u.paused:return"已暂停";case u.stopped:return"已停止";default:return"待机中"}});return H(()=>{b()}),(a,t)=>(v(),U("div",$,[t[10]||(t[10]=n("h3",null," 帧动画播放器演示 ",-1)),n("p",null,[t[3]||(t[3]=n("span",null," 该组件播放时会随时释放资源, 如果配置变化, 请重新加载组件 ",-1)),o(e(F),{"ml-m":"",onClick:t[0]||(t[0]=l=>g.value=!0)},{default:s(()=>t[2]||(t[2]=[p(" reload ")])),_:1})]),n("div",j,[e(g)?L("",!0):(v(),W(e(B),{key:0,status:f.value,"onUpdate:status":t[1]||(t[1]=l=>f.value=l),data:d,"frame-rate":r.frameRate,loop:r.loop},null,8,["status","data","frame-rate","loop"]))]),n("div",z,[t[7]||(t[7]=n("h4",null,"播放控制",-1)),o(e(k),null,{default:s(()=>[o(e(F),{type:"success",onClick:A},{default:s(()=>t[4]||(t[4]=[p(" 播放 ")])),_:1}),o(e(F),{type:"warning",onClick:h},{default:s(()=>t[5]||(t[5]=[p(" 暂停 ")])),_:1}),o(e(F),{type:"danger",onClick:V},{default:s(()=>t[6]||(t[6]=[p(" 停止 ")])),_:1})]),_:1}),n("div",G,[o(e(P),null,{default:s(()=>[p("当前状态: "+c(_.value),1)]),_:1})])]),n("div",J,[t[8]||(t[8]=n("h4",null,"配置参数",-1)),o(e(Z),{data:r,"form-items":T,"label-width":"120px",onSetData:w},null,8,["data"])]),n("div",K,[t[9]||(t[9]=n("h4",null,"帧数据信息",-1)),o(e(k),{direction:"vertical"},{default:s(()=>[o(e(C),null,{default:s(()=>[p("当前序列: "+c(r.selectedSequence),1)]),_:1}),o(e(C),{type:"info"},{default:s(()=>[p(" 帧数量: "+c(d.length),1)]),_:1}),o(e(C),{type:"success"},{default:s(()=>[p(" 帧率: "+c(r.frameRate)+" FPS ",1)]),_:1}),o(e(C),{type:r.loop?"warning":"info"},{default:s(()=>[p(" 循环播放: "+c(r.loop?"开启":"关闭"),1)]),_:1},8,["type"])]),_:1})])]))}});export{Dt as default};

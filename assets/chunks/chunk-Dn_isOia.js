import{_}from"./chunk-6IAh5OlA.js";import{_ as x}from"./chunk-BbOdlfwH.js";import{d as w,p as s,c as h,r as b,a as S,o as V,e as B,b as n,v as g,w as m,u,f as k,M as y}from"./chunk-D7x09NOF.js";/* empty css              *//* empty css              */import"./chunk-CeOHv9xI.js";/* empty css              */import"./chunk-C5nS2Rwi.js";import"./chunk-Di9FnFMJ.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-Db8R8jrI.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */async function C(l,i){const o=new FormData;o.append("file",i,"audio.wav");const r=await fetch(l,{method:"POST",body:o});if(!r.ok)throw new Error("Speech to text failed");return(await r.json()).text}const E={"sk-flex":"col-between",class:"h-400px"},_t=w({__name:"basic",setup(l){const i=s(""),o=s(!1);async function r(e){o.value=!0,await y(1e4),o.value=!1,i.value=""}const a=s([]),c=h(()=>a.value.filter(e=>e.status==="done").map(e=>e.response?.data[0].id));function f(){o.value=!1}function d(e){C("http://192.168.111.246:20096/speech-to-text",e).then(t=>{i.value+=t})}return(e,t)=>{const v=b("ElButton");return V(),S("div",E,[B("pre",null,"      "+g(c.value)+`
    `,1),n(u(_),{"file-list":a.value,"onUpdate:fileList":t[0]||(t[0]=p=>a.value=p),modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=p=>i.value=p),action:"http://localhost:4545/upload",loading:o.value,onSubmit:r,onCancel:f},{footer:m(()=>[n(v,{round:"",size:"small"},{default:m(()=>t[2]||(t[2]=[k(" 深度思考 ")])),_:1})]),actions_before:m(()=>[n(u(x),{onStop:d})]),_:1},8,["file-list","modelValue","loading"])])}}});export{_t as default};

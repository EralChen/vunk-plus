import{V as _}from"./chunk-CwGTTDLX.js";import{_ as x}from"./chunk-Bmoxev9l.js";import{d as h,r as s,c as w,am as V,A as b,B as S,C as B,b as n,a8 as k,_ as m,h as u,I as C,ao as g}from"./chunk-C-sTROv_.js";/* empty css              */import"./chunk-hEwjt6n3.js";import"./chunk-DyJ97TPu.js";/* empty css              *//* empty css              */import"./chunk-CIQjoFUd.js";import"./chunk-DucCsfaH.js";/* empty css              *//* empty css              */import"./chunk-Db8R8jrI.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */async function y(l,i){const o=new FormData;o.append("file",i,"audio.wav");const r=await fetch(l,{method:"POST",body:o});if(!r.ok)throw new Error("Speech to text failed");return(await r.json()).text}const E={"sk-flex":"col-between",class:"h-400px"},vt=h({__name:"basic",setup(l){const i=s(""),o=s(!1);async function r(e){o.value=!0,await g(1e4),o.value=!1,i.value=""}const a=s([]),c=w(()=>a.value.filter(e=>e.status==="done").map(e=>e.response?.data[0].id));function d(){o.value=!1}function f(e){y("http://192.168.111.246:20096/speech-to-text",e).then(t=>{i.value+=t})}return(e,t)=>{const v=V("ElButton");return S(),b("div",E,[B("pre",null,"      "+k(c.value)+`
    `,1),n(u(_),{"file-list":a.value,"onUpdate:fileList":t[0]||(t[0]=p=>a.value=p),modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=p=>i.value=p),action:"http://localhost:4545/upload",loading:o.value,onSubmit:r,onCancel:d},{footer:m(()=>[n(v,{round:"",size:"small"},{default:m(()=>t[2]||(t[2]=[C(" 深度思考 ")])),_:1})]),actions_before:m(()=>[n(u(x),{onStop:f})]),_:1},8,["file-list","modelValue","loading"])])}}});export{vt as default};

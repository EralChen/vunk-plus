import{d as V,aB as te,aC as F,ao as ae,p as f,c as L,aD as re,aE as ne,aF as ie,aG as U,aH as G,g as A,o as H,a3 as ue,u as k,w as _,a1 as ce,a2 as me,e as D,D as q,S as B,aI as fe,aJ as pe,a as j,F as oe,b as $,aK as R,aL as le,aM as ve,aN as de,aO as be,aa as Q,aP as he,q as ge,aQ as we,s as Se,A as X,ap as ye,B as ze,a5 as Ee,Q as Te,aR as ke,aS as He,aT as Y,R as Re,v as Le,f as _e,ak as Ce}from"./chunk-D7x09NOF.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-Db8R8jrI.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const Ne={always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}},Pe={vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean},J=V({__name:"thumb",props:Pe,setup(s){const b=s,r=te(F),o=ae("scrollbar"),p=f(),c=f(),y=f({}),w=f(!1);let h=!1,i=!1,m=0,u=0,l=pe?document.onselectstart:null;const t=L(()=>re[b.vertical?"vertical":"horizontal"]),a=L(()=>ne({size:b.size,move:b.move,bar:t.value})),z=L(()=>p.value[t.value.offset]**2/r.wrapElement[t.value.scrollSize]/b.ratio/c.value[t.value.offset]);function S(n){if(n.stopPropagation(),n.ctrlKey||[1,2].includes(n.button))return;window.getSelection()?.removeAllRanges(),T(n);const v=n.currentTarget;v&&(y.value[t.value.axis]=v[t.value.offset]-(n[t.value.client]-v.getBoundingClientRect()[t.value.direction]))}function E(n){if(!c.value||!p.value||!r.wrapElement)return;const v=Math.abs(n.target.getBoundingClientRect()[t.value.direction]-n[t.value.client]),P=c.value[t.value.offset]/2,g=(v-P)*100*z.value/p.value[t.value.offset];r.wrapElement[t.value.scroll]=g*r.wrapElement[t.value.scrollSize]/100}function T(n){n.stopImmediatePropagation(),h=!0,m=r.wrapElement.scrollHeight,u=r.wrapElement.scrollWidth,document.addEventListener("mousemove",M),document.addEventListener("mouseup",C),l=document.onselectstart,document.onselectstart=()=>!1}function M(n){if(!p.value||!c.value||h===!1)return;const v=y.value[t.value.axis];if(!v)return;const P=(p.value.getBoundingClientRect()[t.value.direction]-n[t.value.client])*-1,g=c.value[t.value.offset]-v,e=(P-g)*100*z.value/p.value[t.value.offset];t.value.scroll==="scrollLeft"?r.wrapElement[t.value.scroll]=e*u/100:r.wrapElement[t.value.scroll]=e*m/100}function C(){h=!1,y.value[t.value.axis]=0,document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",C),N(),i&&(w.value=!1)}function I(){i=!1,w.value=!!b.size}function K(){i=!0,w.value=h}ie(()=>{N(),document.removeEventListener("mouseup",C)});function N(){document.onselectstart!==l&&(document.onselectstart=l)}return U(G(r,"scrollbarElement"),"mousemove",I),U(G(r,"scrollbarElement"),"mouseleave",K),(n,v)=>(H(),A(ue,{name:k(o).b("fade")},{default:_(()=>[ce(D("div",{ref_key:"instance",ref:p,class:B([k(o).e("bar"),k(o).is(t.value.key)]),onMousedown:E,onClick:v[0]||(v[0]=fe(()=>{},["stop"]))},[D("div",{ref_key:"thumb",ref:c,class:B(k(o).e("thumb")),style:q(a.value),onMousedown:S},null,38)],34),[[me,n.always||w.value]])]),_:1},8,["name"]))}}),xe=V({__name:"bar",props:Ne,setup(s,{expose:b}){const r=s,o=te(F),p=f(0),c=f(0),y=f(""),w=f(""),h=f(1),i=f(1);function m(l){if(l){const t=l.offsetHeight-R,a=l.offsetWidth-R;c.value=l.scrollTop*100/t*h.value,p.value=l.scrollLeft*100/a*i.value}}function u(){const l=o?.wrapElement;if(!l)return;const t=l.offsetHeight-R,a=l.offsetWidth-R,z=t**2/l.scrollHeight,S=a**2/l.scrollWidth,E=Math.max(z,r.minSize),T=Math.max(S,r.minSize);h.value=z/(t-z)/(E/(t-E)),i.value=S/(a-S)/(T/(a-T)),w.value=E+R<t?`${E}px`:"",y.value=T+R<a?`${T}px`:""}return b({handleScroll:m,update:u}),(l,t)=>(H(),j(oe,null,[$(J,{move:p.value,ratio:i.value,size:y.value,always:l.always},null,8,["move","ratio","size","always"]),$(J,{move:c.value,ratio:h.value,size:w.value,vertical:"",always:l.always},null,8,["move","ratio","size","always"])],64))}}),x=s=>typeof s=="number";function Be(s){return le(s)?!Number.isNaN(Number(s)):!1}function Z(s,b="px"){if(!s)return"";if(x(s)||Be(s))return`${s}${b}`;if(le(s))return s;console.warn(ve,"binding value must be a string or number")}const De=["tabindex"],ee="ElScrollbar",W=V({__name:"index",props:{...be,appendTo:null},emits:de,setup(s,{expose:b,emit:r}){const o=s,p=r,c=ae("scrollbar");let y,w,h,i=0,m=0,u="";const l={bottom:!1,top:!1,right:!1,left:!1},t=f(),a=f(),z=f(),S=f(),E=L(()=>{const e={};return o.height&&(e.height=Z(o.height)),o.maxHeight&&(e.maxHeight=Z(o.maxHeight)),[o.wrapStyle,e]}),T=L(()=>[o.wrapClass,c.e("wrap"),{[c.em("wrap","hidden-default")]:!o.native}]),M=L(()=>[c.e("view"),o.viewClass]);function C(e){return l[e]??!1}const I={top:"bottom",bottom:"top",left:"right",right:"left"};function K(e){const d=I[u];if(!d)return;const O=e[u],se=e[d];O&&!l[u]&&(l[u]=!0),!se&&l[d]&&(l[d]=!1)}function N(){if(a.value){S.value?.handleScroll(a.value);const e=i,d=m;i=a.value.scrollTop,m=a.value.scrollLeft;const O={bottom:i+a.value.clientHeight>=a.value.scrollHeight-o.distance,top:i<=o.distance&&e!==0,right:m+a.value.clientWidth>=a.value.scrollWidth-o.distance&&d!==m,left:m<=o.distance&&d!==0};if(p("scroll",{scrollTop:i,scrollLeft:m}),e!==i&&(u=i>e?"bottom":"top"),d!==m&&(u=m>d?"right":"left"),o.distance>0){if(C(u))return;K(O)}O[u]&&p("end-reached",u)}}function n(e,d){He(e)?a.value.scrollTo(e):x(e)&&x(d)&&a.value.scrollTo(e,d)}function v(e){if(!x(e)){console.warn(ee,"value must be a number");return}a.value.scrollTop=e}function P(e){if(!x(e)){console.warn(ee,"value must be a number");return}a.value.scrollLeft=e}function g(){S.value?.update(),l[u]=!1}return Q(()=>o.noresize,e=>{e?(y?.(),w?.(),h?.()):({stop:y}=Y(z,g),{stop:w}=Y(a,g),h=U("resize",g))},{immediate:!0}),Q(()=>[o.maxHeight,o.height],()=>{o.native||X(()=>{g(),a.value&&S.value?.handleScroll(a.value)})}),he(F,ge({scrollbarElement:t,wrapElement:a})),we(()=>{a.value&&(a.value.scrollTop=i,a.value.scrollLeft=m)}),Se(()=>{o.native||X(()=>{g()})}),ye(()=>g()),b({wrapRef:a,update:g,scrollTo:n,setScrollTop:v,setScrollLeft:P,handleScroll:N}),(e,d)=>(H(),j("div",{ref_key:"scrollbarRef",ref:t,class:B(k(c).b())},[D("div",{ref_key:"wrapRef",ref:a,class:B(T.value),style:q(E.value),tabindex:e.tabindex,onScroll:N},[(H(),A(Ee(e.tag),{id:e.id,ref_key:"resizeRef",ref:z,class:B(M.value),style:q(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:_(()=>[Te(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,De),e.native?ze("",!0):(H(),A(k(ke),{key:0,disabled:!s.appendTo,to:s.appendTo},{default:_(()=>[$(xe,{ref_key:"barRef",ref:S,always:e.always,"min-size":e.minSize},null,8,["always","min-size"])]),_:1},8,["disabled","to"]))],2))}});W.install=s=>{s.component(W.name||"VkScrollbar",W)};const bt=V({__name:"basic",setup(s){return(b,r)=>(H(),A(k(Ce),{class:"demo-scrollbar-basic",overflow:"visible"},{one:_(()=>r[0]||(r[0]=[_e(" 123121 ")])),default:_(()=>[$(k(W),{"append-to":".demo-scrollbar-basic > .vk-duplex-calc-two"},{default:_(()=>[D("ul",null,[(H(),j(oe,null,Re(50,o=>D("li",{key:o}," Item "+Le(o),1)),64))])]),_:1})]),_:1}))}});export{bt as default};

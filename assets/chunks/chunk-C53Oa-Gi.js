import{V as _}from"./chunk-CjBXcJ57.js";import{_ as x}from"./chunk-Xj2P5Z-q.js";import{s as w}from"./chunk-CLfTKXP-.js";/* empty css              */import{d as h,r as s,m as V,K as b,c as S,o as k,a as B,k as n,t as g,w as m,b as u,j as y}from"./chunk-WaRpenU8.js";import"./chunk-raQNm161.js";import"./chunk-CGIe-Bk9.js";/* empty css              *//* empty css              */import"./chunk-DucCsfaH.js";import"./chunk-23AHP9H5.js";/* empty css              *//* empty css              */import"./chunk-Db8R8jrI.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */async function C(l,r){const o=new FormData;o.append("file",r,"audio.wav");const i=await fetch(l,{method:"POST",body:o});if(!i.ok)throw new Error("Speech to text failed");return(await i.json()).text}const E={"sk-flex":"col-between",class:"h-400px"},_t=h({__name:"basic",setup(l){const r=s(""),o=s(!1);async function i(e){o.value=!0,await w(1e4),o.value=!1,r.value=""}const a=s([]),c=V(()=>a.value.filter(e=>e.status==="done").map(e=>e.response?.data[0].id));function d(){o.value=!1}function f(e){C("http://192.168.111.246:20096/speech-to-text",e).then(t=>{r.value+=t})}return(e,t)=>{const v=b("ElButton");return k(),S("div",E,[B("pre",null,"      "+g(c.value)+`
    `,1),n(u(_),{"file-list":a.value,"onUpdate:fileList":t[0]||(t[0]=p=>a.value=p),modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=p=>r.value=p),action:"http://localhost:4545/upload",loading:o.value,onSubmit:i,onCancel:d},{footer:m(()=>[n(v,{round:"",size:"small"},{default:m(()=>t[2]||(t[2]=[y(" 深度思考 ")])),_:1})]),actions_before:m(()=>[n(u(x),{onStop:f})]),_:1},8,["file-list","modelValue","loading"])])}}});export{_t as default};

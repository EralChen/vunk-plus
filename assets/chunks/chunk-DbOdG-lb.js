const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-SbGxUnJy.js","assets/chunks/chunk-CIQjoFUd.js","assets/chunks/chunk-C-sTROv_.js","assets/chunks/chunk-Db8R8jrI.js","assets/static/onCreateApp.DdGbM3vl.css","assets/static/src_layouts_default_aside-6ea01de8.BjbON5Ij.css","assets/static/src_layouts_default_navbar-403af73f.u3IytZI2.css","assets/static/pages_uno-88a4f3d7.n-XI66hG.css","assets/static/src_styles_common_reset-f7a68b0e.BAKp5MHC.css","assets/static/src_styles_common_color-a7a524c7.CVau4Kly.css","assets/static/src_styles_common_is-19c6c24d.DKAKruk7.css","assets/static/style-6912e642.BV4wSeDz.css","assets/static/style-828a286c.Beul3IQx.css","assets/static/src_styles_element-plus_reset-752cc03d.htEpr2M-.css","assets/static/src_styles_element-plus_form-item-877afd6a.Dy4HJB2K.css","assets/static/src_styles_element-plus_table-6cbc5816.DXG1SsxY.css","assets/static/src_styles_element-plus_tabs-67d1a98b.BMDMQPDv.css","assets/static/src_styles_element-plus_tree-cc28503d.nmT5n0wM.css","assets/static/src_styles_element-plus_dialog-7f91a00e.D4nTsJge.css","assets/static/src_styles_element-plus_breadcrumb-8ce3a1a1.CwEEGJYc.css","assets/static/src_styles_element-plus_menu-33b44202.hFAFO4eV.css","assets/static/style-66a38b5b.DDhCRjCR.css","assets/static/style-e2956485.BBK-T9RK.css","assets/static/style-3ec25e25.Cc2PI5FU.css","assets/static/src_styles_form_sub-7371c85e.y3zh-mS3.css","assets/static/src_styles_layout_index-2891f17b.BNCqvENj.css","assets/static/style-3bd3911a.CRScSR0a.css","assets/static/style-6204a234.BZwgKm1s.css","assets/static/style-55703ee6.CFNWXuiE.css","assets/static/style-512eb9e9.X9gIGpBH.css","assets/static/style-744b2847.Di2LGzYR.css","assets/static/style-f00a3d20.C8H6Fcyw.css","assets/static/src_styles_markdown_reset-fbd16bdd.D3vNaEcf.css","assets/static/src_styles_markdown_shiki-0d2326df.uut6VZYd.css","assets/chunks/chunk-DucCsfaH.js","assets/static/style-5a7c85f9.SG6e0Eez.css"])))=>i.map(i=>d[i]);
import{u as j,_ as U,a as G}from"./chunk-DMELm5mK.js";import{_ as J}from"./chunk-Db8R8jrI.js";import{al as A,A as d,B as v,C as m,D as p,ai as I,a7 as L,d as E,b1 as K,r as g,a$ as Q,c as _,b6 as W,b as n,h as t,b7 as X,_ as l,ae as Y,g as h,F as Z,v as k,a5 as ee,aL as T,aB as te,b8 as oe,L as re,b2 as ne}from"./chunk-C-sTROv_.js";import{V as se}from"./chunk-CwGTTDLX.js";import{a as x}from"./chunk-DI_YI5l4.js";/* empty css              */import"./chunk-DxePtwsq.js";import"./chunk-CVh-Cx4v.js";/* empty css              */import"./chunk-CntOc3u2.js";import"./chunk-DucCsfaH.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-hEwjt6n3.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-DyJ97TPu.js";/* empty css              *//* empty css              */const ae={},ie={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function ce(e,s){return v(),d("svg",ie,s[0]||(s[0]=[m("path",{fill:"currentColor",d:"M896 768H128c-35.2 0-64-28.8-64-64V320c0-35.2 28.8-64 64-64h768c35.2 0 64 28.8 64 64v384c0 35.2-28.8 64-64 64zM224 384c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zM224 480c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zM224 576c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm512 0H288c-17.6 0-32 14.4-32 32s14.4 32 32 32h448c17.6 0 32-14.4 32-32s-14.4-32-32-32z"},null,-1)]))}const le=A(ae,[["render",ce]]),me=function(e){return p(I,e,()=>p(le))},pe=function(e){return p(L,{icon:me,shape:"square",size:"small",...e})},ue={name:"VkVoiceIcon"},de={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function ve(e,s,$,w,D,i){return v(),d("svg",de,s[0]||(s[0]=[m("path",{fill:"currentColor",d:"M512 640c88 0 160-72 160-160V256c0-88-72-160-160-160s-160 72-160 160v224c0 88 72 160 160 160zm280-156.8h-48c-4.4 0-8 3.6-8 8v8.8c0 108.8-86.4 199.2-195.2 203.2H512c-112 0-203.2-91.2-203.2-203.2v-8.8c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v8.8c0 131.2 98.4 239.2 225.6 254.4v115.2H360c-17.6 0-32 14.4-32 32s14.4 32 32 32h304c17.6 0 32-14.4 32-32s-14.4-32-32-32H552V744.8c127.2-15.2 225.6-123.2 225.6-254.4v-8.8c0-4.8-3.6-8.4-8-8.4z"},null,-1)]))}const be=A(ue,[["render",ve]]),fe=function(e){return p(I,e,()=>p(be))},_e=function(e){return p(L,{icon:fe,shape:"square",size:"small",...e})};x.install=e=>{e.component(x.name||"VkRendererData",x)};var a=(e=>(e.Voice="voice",e.Text="text",e))(a||{});const he={data:{type:Object},speechToText:{type:Function},textToSpeech:{type:Function}},ke={setData:e=>e},xe={class:"vk-chat-independent"},Ve={class:"vk-chat-independent-main__bubbles"},$e={class:"vk-chat-independent-footer"},ze={class:"vk-chat-independent-background"},V=E({name:"VkChatIndependent",__name:"index",props:he,emits:ke,setup(e,{emit:s}){const $=e,w=s,D=ee(()=>J(()=>import("./chunk-SbGxUnJy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]))),[i,H]=K({},$,w),C=g(),c=g(a.Text),z=g(""),B=Q(),M=B.resolve,{simplicity:F}=j(),{items:b,onRequest:N}=F,y=_(()=>b.value.at(-1)),f=_(()=>O(-1)),P=_(()=>!!(y.value?.loading===!0||W(f.value)&&f.value.completed!==!0)),R=_(()=>f.value.error===!0?!1:y.value?.loading===!0||f.value.completed===!1);function S(o){o&&(N(o),re(()=>{z.value=""}),setTimeout(()=>{B.value?.scrollToBottom()},400))}function q(){const o=b.value.at(-1);o&&(o.abortController?.abort(),ne(()=>i.value[o.key],60).then(r=>{r.elRef?.interrupt(),i.value[o.key].completed=!0}))}function O(o){const r=b.value.at(o);return r?.key&&i.value[r.key]?i.value[r.key]:{}}return(o,r)=>(v(),d("div",xe,[m("div",{ref_key:"mainRef",ref:C,class:"vk-chat-independent-main"},[n(t(X),{"with-flex":"one",class:"vk-chat-independent-main__duplex"},{one:l(()=>[n(t(x),{data:t(i),onSetData:t(H)},{default:l(()=>[m("div",Ve,[n(t(U),{"el-ref":t(M),items:t(b),"text-to-speech":o.textToSpeech},{renderer:l(()=>[T(o.$slots,"bubble_renderer")]),footer:l(u=>[T(o.$slots,"bubble_footer",te(oe(u)))]),_:3},8,["el-ref","items","text-to-speech"])])]),_:3},8,["data","onSetData"])]),two:l(()=>[m("div",$e,[o.speechToText?(v(),d(Z,{key:0},[h(n(t(pe),{size:40,onClick:r[0]||(r[0]=u=>c.value=t(a).Text)},null,512),[[k,c.value===t(a).Voice]]),h(n(t(D),{"append-to":C.value,disabled:R.value,"speech-to-text":o.speechToText,"submit-to-text":!0,onSubmitText:S},null,8,["append-to","disabled","speech-to-text"]),[[k,c.value===t(a).Voice]]),h(n(t(_e),{size:40,onClick:r[1]||(r[1]=u=>c.value=t(a).Voice)},null,512),[[k,c.value===t(a).Text]])],64)):Y("",!0),h(n(t(se),{modelValue:z.value,"onUpdate:modelValue":r[2]||(r[2]=u=>z.value=u),"auto-size":!0,placeholder:"请输入内容","send-disabled":R.value,loading:P.value,onSubmit:S,onCancel:q},null,8,["modelValue","send-disabled","loading"]),[[k,c.value===t(a).Text]])])]),_:3})],512),m("div",ze,[T(o.$slots,"background")])]))}});V.install=e=>{e.component(V.name||"VkChatIndependent",V)};const ge={"h-500px":"","w-350px":""},At=E({__name:"basic",setup(e){return(s,$)=>(v(),d("div",ge,[n(t(G),null,{default:l(()=>[n(t(V))]),_:1})]))}});export{At as default};
